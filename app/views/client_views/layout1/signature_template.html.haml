.container.text-center{:style=>"width: auto"}
  %div{"image-upload-overlay"=>"", "title"=>"Add Header Image", "notes"=>"Recommended image size: 950x250px", "image-name"=>"header_image_full", "is-admin"=>"is_admin"}
    .drop-shadow.lifted#header-image{"ng-style" => "header_image_styling()"}
  %h2#petition-headline.contenteditable.placeholer-showing{"contenteditable"=>"", "ng-model" => "petition.headline_primary", "strip-br"=>"true", "select-non-editable"=>"true", "data-placeholder"=>"Signature Headline", "name"=>"headline_primary", "required"=>""}
  %h1.title.contenteditable.placeholer-showing{"contenteditable"=>"", "ng-model" => "petition.headline_secondary", "strip-br"=>"true", "select-non-editable"=>"true", "data-placeholder"=>"Signature Headline (Secondary)", "name"=>"headline_secondary", "required"=>""}
  %p.description
    %span.contenteditable.placeholer-showing{:style=>"display: block", "contenteditable"=>"", "ng-model" => "petition.summary", "strip-br"=>"true", "select-non-editable"=>"true", "data-placeholder"=>"Petition Summary", "name"=>"summary", "required"=>""}
  #action-wrapper
    #sign-panel{:style => "margin: 20px 0px 40px 0px"}
      #sign-petition-signature
        #signature-container{"data-facebook" => Settings.facebook_app_id }
          #sign-why.solid-white-back{:style => "text-align: left;"}
            %textarea#comment{:maxlength => "115", :style => "width: 90%", :placeholder => "{{petition.signature_comment_placeholder_text || 'Tell Us Why You are Signing...'}}", "ng-model" => "signature.comment"}
            #message-counter.text-right {{115 - signature.comment.length}}
          %button.drop-shadow.lifted.action-button.icon#sign-with-fb-button{"ng-click" => "fetch()"}
            %span.contenteditable.placeholder-showing{"contenteditable"=>"", "ng-model" => "petition.sign_with_facebook_cta_button_text", "strip-br"=>"true", "select-non-editable"=>"true", "data-placeholder"=>"Call to Action Text", "name"=>"sign_with_facebook_cta_button_text", "required"=>""}
        %div#copy-or
          \-OR-
        #sign-petition{"ng-switch"=>"disable_forms"}
          %form{"ng-switch-when"=>"false", :name => "myForm", "novalidate" => true, :style => "margin: 0px;", "role"=>"form"}
            .form-group.row
              .col-md-6
                %input#firstName.register-textfield.form-control{:type => "text", :name => "FirstName", :placeholder => "First Name", "ng-model" => "signature.first_name", "required" => true}
                .text-error.text-left{"ng-show" => "myForm.submitted  && myForm.FirstName.$invalid"}
                  First Name is required  
              .col-md-6
                %input#lastName.register-textfield.form-control{:type => "text", :name => "LastName", :placeholder => "Last Name", "ng-model" => "signature.last_name", "required" => true}
                .text-error.text-left{"ng-show" => "myForm.submitted  && myForm.LastName.$invalid"}
                  Last Name is required  
            .form-group.row
              .col-md-6
                %input#emailAddress.register-textfield.form-control{:type => "email", :name => "EmailAddress", :placeholder => "Email Address", "ng-model" => "signature.email_address", "required" => true}
                .text-error.text-left{"ng-show" => "myForm.submitted  && myForm.EmailAddress.$invalid && myForm.EmailAddress.$error.required"}
                  Email Address is required  
                .text-error.text-left{"ng-show" => "myForm.submitted  && myForm.EmailAddress.$invalid && myForm.EmailAddress.$error.email"}
                  This is not a valid Email Address
              .col-md-6
                %input#zipCode.register-textfield.form-control{:type => "text", :name => "ZipCode", :placeholder => "Zip Code", "ng-model" => "signature.zip_code", "required" => true}
                .text-error.text-left{"ng-show" => "myForm.submitted  && myForm.ZipCode.$invalid"}
                  Zip Code is required  
            .form-group.row
              .col-md-12
                %button#sign-petition-user-name.button.action-button{:style => "width: 100%", "ng-click" => "sign_with_email_address(myForm)"}
                  %span.contenteditable.placeholder-showing{"contenteditable"=>"", "ng-model" => "petition.sign_with_email_cta_button_text", "strip-br"=>"true", "select-non-editable"=>"true", "data-placeholder"=>"Call to Action Text", "name"=>"sign_with_email_cta_button_text", "required"=>""}
                .controls{:style => "padding: 0px 20px"}
                  %label.checkbox{:style => "text-align: left"}
                    %input#chkEmailSignUp{:checked => "", :type => "checkbox", "ng-model" => "signature.opt_in"}
                      %div#copy-opt-in
                        Update me on the results of this campaign and others from
                        %b {{petition.creator.organization_name}}

          %div{"ng-switch-when"=>"true"}
            .form-group.row
              .col-md-6
                %input#firstName.register-textfield.form-control{:type => "text", :name => "FirstName", :placeholder => "First Name", "ng-model" => "signature.first_name"}
                .text-error.text-left{"ng-show" => "myForm.submitted  && myForm.FirstName.$invalid"}
                  First Name is required  
              .col-md-6
                %input#lastName.register-textfield.form-control{:type => "text", :name => "LastName", :placeholder => "Last Name", "ng-model" => "signature.last_name"}
                .text-error.text-left{"ng-show" => "myForm.submitted  && myForm.LastName.$invalid"}
                  Last Name is required  
            .form-group.row
              .col-md-6
                %input#emailAddress.register-textfield.form-control{:type => "email", :name => "EmailAddress", :placeholder => "Email Address", "ng-model" => "signature.email_address"}
                .text-error.text-left{"ng-show" => "myForm.submitted  && myForm.EmailAddress.$invalid && myForm.EmailAddress.$error.required"}
                  Email Address is required  
                .text-error.text-left{"ng-show" => "myForm.submitted  && myForm.EmailAddress.$invalid && myForm.EmailAddress.$error.email"}
                  This is not a valid Email Address
              .col-md-6
                %input#zipCode.register-textfield.form-control{:type => "text", :name => "ZipCode", :placeholder => "Zip Code", "ng-model" => "signature.zip_code"}
                .text-error.text-left{"ng-show" => "myForm.submitted  && myForm.ZipCode.$invalid"}
                  Zip Code is required  
            .form-group.row
              .col-md-12
                %button#sign-petition-user-name.button.action-button{:style => "width: 100%", "ng-click" => "sign_with_email_address(myForm)"}
                  %span.contenteditable.placeholder-showing{"contenteditable"=>"", "ng-model" => "petition.sign_with_email_cta_button_text", "strip-br"=>"true", "select-non-editable"=>"true", "data-placeholder"=>"Call to Action Text", "name"=>"sign_with_email_cta_button_text", "required"=>""}
                .controls{:style => "padding: 0px 20px"}
                  %label.checkbox{:style => "text-align: left"}
                    %input#chkEmailSignUp{:checked => "", :type => "checkbox", "ng-model" => "signature.opt_in"}
                      %div#copy-opt-in
                        Update me on the results of this campaign and others from
                        %b {{petition.creator.organization_name}}


  #target-count-wrapper{:style => "margin: 0px auto 10px auto;"}
    .row
      #target-count-progress-wrapper.col-md-11.solid-white-back.drop-shadow-full
        #progress-bar-outer-wrapper
          #progress-bar-wrapper.progress.progress-striped.progress-green
            #progress-bar.bar.orange-bar{:style => "width: {{get_percentage_signed(petition.signature_count, petition.target_count)}}%;"}
            %span#progress-marker.mark{:style => "left: {{load_progress_marker(petition.signature_count, petition.target_count)}}"}
      #petition-target-count-goal.col-md-1.target-count-goal
        %span.nobr
          {{ get_percentage_signed(petition.signature_count, petition.target_count) }}
          \%
    .row
      .col-md-6.action-count{:style => "text-align: left; padding-left: 22px;"}
        Signers:
        %span#signature_count
          {{petition.signature_count}}
      .col-md-6.action-count{:style => "text-align: right; padding-right: 44px"}
        Goal: 
        %span.contenteditable.placeholder-showing{"contenteditable"=>"", "ng-model" => "petition.target_count", "strip-br"=>"true", "select-non-editable"=>"true", "data-placeholder"=>"Target Number of Signatures","name"=>"target_count", "required"=>""}
  #comment-container.comment-wrapper{:style => "margin-bottom: 40px;", "ng-controller" => "CommentController"}
    %div{:style => "margin-bottom: 25px", "ng-repeat" => "signature in comments.items | orderBy: 'created_at':true"}
      .media.comment-container.comment.solid-white-back.drop-shadow-full.clear-fix
        %a.pull-left
          .media-object.avatar{"ng-style" => "get_avatar_url(signature)"}
        .media-body{:style => "text-align: left;"}
          %span.comment-username
            {{signature.user.first_name}}
            {{signature.user.last_name}}
          %span.comment-timeago
            signed {{signature.created_at | fromNow }} 
          %span.comment-location{"ng-bind" => "display_location(signature)"}
          %span.comment
            {{signature.comment}}
      .delivery-status.row.text-right
        .devivered{"ng-show" => "show_signature_delivered(signature)"}
          %span.delivery-status-text
            STATUS: DELIVERED
            %span
              %img.delivery-status-checkbox{"ng-src" => "/assets/checkbox-checked-delivery-status.png"}
        .not-delivered{"ng-hide"  => "show_signature_delivered(signature)"}
          %span.delivery-status-text
            STATUS: PENDING
            %span
              %img.delivery-status-checkbox{"ng-src" => "/assets/checkbox-delivery-status.png"}
    #see-more-container{"ng-hide"=>"comments.items.length >= comments.total"}
      %button#see-more-button.button.action-button{:style => "width: 100%", "ng-click" => "show_more_signatures_click()"}
        %span.contenteditable.placeholder-showing{"contenteditable"=>"", "ng-model" => "petition.signature_more_signers_button_text", "strip-br"=>"true", "select-non-editable"=>"true", "data-placeholder"=>"More Signers Button Text", "name"=>"signature_more_signers_button_text","required"=>""}

  #powered-by-wrapper
    %a#powered-by-container.row.text-right{"href" => "http://www.snaptivist.com", :style => "display: block"}
      = image_tag "powered_by.png"

  %div{"loading-screen" => "loading.show_spinner"}